<!doctype html>
<html lang="pt-br">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<title>ConfirmaÃ§Ã£o de PresenÃ§a â€“ AniversÃ¡rio da LaÃ­s</title>
<style>
  body{font-family:Arial,Helvetica,sans-serif;background:linear-gradient(135deg,#22c55e,#0ea5e9);
       color:#0b132b;margin:0;display:flex;justify-content:center;align-items:center;min-height:100vh;}
  .card{background:#fff;border-radius:18px;padding:24px;max-width:720px;width:90%;
        box-shadow:0 10px 30px rgba(0,0,0,.15);}
  h1{margin-top:0;color:#111827}
  label{display:block;margin-top:10px;font-weight:bold}
  input,select,textarea,button{width:100%;padding:12px;margin-top:6px;border-radius:10px;
    border:1px solid #ddd;font-size:15px}
  button{background:#111827;color:#fff;border:none;font-weight:bold;cursor:pointer;margin-top:18px}
  button:hover{filter:brightness(1.1)}
  #msg{margin-top:15px;padding:12px;border-radius:10px;display:none;font-weight:bold}
  .ok{background:#ecfdf5;color:#065f46}
  .err{background:#fef2f2;color:#991b1b}
  .hint{font-size:12px;color:#64748b;margin-top:4px}
</style>
</head>
<body>
  <div class="card">
    <h1>ConfirmaÃ§Ã£o de PresenÃ§a â€“ AniversÃ¡rio da LaÃ­s ğŸ¶</h1>
    <p>ğŸ“… 25/10/2025 â€¢ ğŸ•’ InÃ­cio 15h â€¢ ğŸ¥ Pagode 17h<br>
       ğŸ“ Av. TeÃ³filo AmÃ©rico de Carvalho, 160 â€“ Jardim Belvedere<br>
       ğŸ¾ <b>Open Cooler</b> â€“ traga sua bebida preferida e venha curtir!</p>

    <form id="rsvp">
      <label>Nome completo*</label>
      <input name="Nome" required>

      <label>Quantas pessoas vÃªm com vocÃª?*</label>
      <select name="Quantidade" id="quantidade" required>
        <option value="" disabled selected>Selecione</option>
        <option value="0">SÃ³ eu</option>
        <option value="1">+1 acompanhante</option>
        <option value="2">+2 acompanhantes</option>
        <option value="3">+3 ou mais</option>
      </select>
      <div id="companions"></div>
      <input type="hidden" name="TotalAcompanhantes" id="totalCompanions" value="0">

      <label>WhatsApp*</label>
      <input name="WhatsApp" required placeholder="(DDD) 9 9999-9999">

      <label>Recado para a LaÃ­s (opcional)</label>
      <textarea name="Recado"></textarea>

      <button type="submit">Enviar confirmaÃ§Ã£o ğŸ‰</button>
    </form>

    <div id="msg" class=""></div>
  </div>

  <script>
    const form = document.getElementById('rsvp');
    const msg = document.getElementById('msg');
    const qty = document.getElementById('quantidade');
    const companionsBox = document.getElementById('companions');
    const totalCompanions = document.getElementById('totalCompanions');

    function renderCompanionFields(n){
      companionsBox.innerHTML = '';
      const count = Math.min(Math.max(parseInt(n||0,10),0),3);
      totalCompanions.value = count;
      if(count>0){
        for(let i=1;i<=count;i++){
          const label = document.createElement('label');
          label.textContent = `Nome do acompanhante ${i}`;
          const input = document.createElement('input');
          input.name = `Acompanhante_${i}`;
          input.placeholder = 'Nome completo';
          input.required = false; // opcional
          companionsBox.appendChild(label);
          companionsBox.appendChild(input);
        }
        const hint = document.createElement('div');
        hint.className = 'hint';
        hint.textContent = 'Obs.: Em â€œ+3 ou maisâ€, informe nomes principais (atÃ© 3).';
        companionsBox.appendChild(hint);
      }
    }

    qty.addEventListener('change', (e)=> renderCompanionFields(e.target.value));
    // inicia vazio
    renderCompanionFields(0);

    form.addEventListener('submit', async (e) => {
      e.preventDefault();
      const data = new FormData(form);
      try {
        const res = await fetch("https://formsubmit.co/ajax/laislovo@hotmail.com", {
          method: "POST",
          body: data
        });
        if (res.ok) {
          msg.className = 'ok';
          msg.textContent = 'âœ… ConfirmaÃ§Ã£o enviada com sucesso! Obrigado ğŸ’š';
          msg.style.display = 'block';
          form.reset();
          renderCompanionFields(0);
        } else {
          throw new Error();
        }
      } catch (error) {
        msg.className = 'err';
        msg.textContent = 'âŒ Ocorreu um erro. Tente novamente.';
        msg.style.display = 'block';
      }
    });
  </script>
</body>
</html>